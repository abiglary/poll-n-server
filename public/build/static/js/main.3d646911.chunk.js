(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(76)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},64:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),s=a.n(l),c=a(78),o=(a(34),a(35),a(37),a(38),a(2)),i=a(3),m=a(5),u=a(4),p=a(6),h=(a(39),a(79)),g=a(28),d=(a(40),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.currentUser;return r.a.createElement("section",{className:"HomePage"},r.a.createElement("h1",{className:"polln-title"},"Poll(n)"),r.a.createElement("img",{src:"pollN-logo-img.png",alt:"pollN-logo-img"}),e?r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome ",r.a.createElement("b",null,e.username)," !"),r.a.createElement("div",null,r.a.createElement("a",{className:"btn btn-primary",href:"/popular-polls",role:"button"},"Popular Polls"),r.a.createElement("a",{className:"btn btn-primary",href:"/poll-carousel",role:"button"},"Fresh Polls"),r.a.createElement("a",{className:"btn btn-primary",href:"/my-polls",role:"button"},"My Polls"),r.a.createElement("a",{className:"btn btn-primary",href:"/user-profile",role:"button"},"User Profile"))):r.a.createElement("div",null,r.a.createElement("p",null,"Welcome to the new instant-polls messaging system!"),r.a.createElement("p",null,"Swipe left = Yes"),r.a.createElement("p",null,"Swipe right = No"),r.a.createElement("p",null,"Swipe up = Skip"),r.a.createElement("p",null,"View More = Current Most Popular Polls"),r.a.createElement("div",null,r.a.createElement("a",{className:"btn btn-primary",href:"/popular-polls",role:"button"},"View More"),r.a.createElement("a",{className:"btn btn-primary",href:"/signup-page",role:"button"},"Sign Up"),r.a.createElement("a",{className:"btn btn-primary",href:"/login-page",role:"button"},"Log In"))))}}]),t}(n.Component)),E=a(13),f=a(77),b=(a(41),a(27)),v=a.n(b).a.create({baseURL:"",withCredentials:!0});function N(e){throw e.response&&e.response.data?console.log("API Error",e.response.data):console.log("React Code Error",e.response),e}function O(e){return v.get("/api/next-poll?userId=".concat(e)).catch(N)}var y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={username:"",originalPassword:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"genericOnChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t,a=this;e.preventDefault(),(t=this.state,v.post("/api/process-login",t).catch(N)).then(function(e){console.log("Log In",e.data),a.props.loginSuccess(e.data)})}},{key:"render",value:function(){var e=this;return this.props.currentUser?r.a.createElement(f.a,{to:"/poll-carousel"}):r.a.createElement("section",{className:"LoginPage"},r.a.createElement("h4",null,"Log In"),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.username,name:"username",type:"text",className:"form-control",id:"username",placeholder:"Enter username."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.originalPassword,name:"originalPassword",type:"password",className:"form-control",id:"password",placeholder:"Enter username."})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Log In")))}}]),t}(n.Component),S=(a(64),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={username:"",originalPassword:"",originalEmail:"",originalUsercode:"",errorMessage:"",tags:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"genericOnChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t,a=this;console.log("TAGS",this.state.tags),e.preventDefault(),(t=this.state,v.post("/api/process-signup",t).catch(N)).then(function(e){a.setState({username:"",originalPassword:"",originalEmail:"",originalUsercode:"",errorMessage:"",tags:""}),console.log("Sign Up Result",e.data),a.props.signupSuccess(e.data)}).catch(function(e){a.setState({errorMessage:e.response.data.message})})}},{key:"render",value:function(){var e=this,t=this.props.currentUser;return r.a.createElement("section",{className:"SignupPage"},t?r.a.createElement(f.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h4",null,"Sign Up"),this.state.errorMessage&&r.a.createElement("div",{className:"error-message"},this.state.errorMessage),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.username,name:"username",type:"text",className:"form-control",id:"username",placeholder:"Enter username."}),r.a.createElement("small",{id:"usernameHelp",className:"form-text text-muted"},"Make sure this username isn't too easily identifiable.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"tags"},"Tags"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.tags,name:"tags",type:"text",className:"form-control",id:"tags",placeholder:"Enter tags."}),r.a.createElement("small",{id:"tagsHelp",className:"form-text text-muted"},"Make sure the chosen terms are 'space-separated'.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.originalPassword,name:"originalPassword",type:"password",className:"form-control",id:"password",placeholder:"Password here."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.originalEmail,name:"originalEmail",type:"email",className:"form-control",id:"email",placeholder:"Email here."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"usercode"},"Social Security Number"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.originalUsercode,name:"originalUsercode",type:"text",className:"form-control",id:"usercode",placeholder:"Your Social Security Number here."})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Sign Up"))))}}]),t}(n.Component)),j=a(18),U=a.n(j),C=(a(68),a(80)),w=(a(69),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"logoutClick",value:function(){var e=this;v.get("/api/logout").catch(N).then(function(t){console.log("Log Out OK",t.data),e.props.logoutConfirmed()})}},{key:"render",value:function(){var e=this,t=this.props.currentUser;return r.a.createElement("section",{className:"NavBar"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(C.a,{className:"navbar-brand polln-title",exact:!0,to:"/"},"Poll(n)"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},t?r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},r.a.createElement(C.a,{className:"nav-link",to:"/user-profile"},t.username),r.a.createElement("button",{className:"btn btn-outline-info my-2 my-sm-0",onClick:function(){return e.logoutClick()}},"Log Out")):r.a.createElement("div",null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.a,{className:"nav-link",to:"/signup-page"},"Sign Up")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.a,{className:"nav-link",to:"/login-page"},"Log In"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.a,{className:"nav-link",exact:!0,to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.a,{className:"nav-link",to:"/browse-polls"},"Browse")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.a,{className:"nav-link",exact:!0,to:"/add-poll"},"Create"))),r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search"}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Search")))))}}]),t}(n.Component)),k=(a(70),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={currentUser:a.props.currentUser,pollItem:a.props.pollItem,voteValue:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"sendVote",value:function(e){var t,a=this;this.setState({voteValue:e}),(t=this.state,v.post("/api/vote-poll",t).catch(N)).then(O(this.state.currentUser._id).then(function(e){console.log("Next Poll",e.data),a.setState({pollItem:e.data})}))}},{key:"render",value:function(){var e=this,t=this.state.pollItem;return r.a.createElement("section",{className:"PollDetails"},r.a.createElement("div",{className:"card bg-secondary"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",{className:"card-title"},t.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},t.createdAt),r.a.createElement("h5",{className:"card-text"},t.description),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},"Nb Votants"),r.a.createElement("li",{className:"list-group-item"},"Nb Verified"),r.a.createElement("li",{className:"list-group-item"},"Nb Yes"),r.a.createElement("li",{className:"list-group-item"},"Nb No"),r.a.createElement("li",{className:"list-group-item"},"Nb Skip")),r.a.createElement("div",{className:"arrow-line"},r.a.createElement("button",{onClick:function(){return e.sendVote(1)}},r.a.createElement("h5",null,r.a.createElement("i",{className:"fa fa-arrow-left"}),"YES")),r.a.createElement("button",{onClick:function(){return e.sendVote(2)}},r.a.createElement("h5",null,r.a.createElement("i",{className:"fa fa-arrow-up"}),"SKIP")),r.a.createElement("button",{onClick:function(){return e.sendVote(0)}},r.a.createElement("h5",null,"NO",r.a.createElement("i",{className:"fa fa-arrow-right"})))))))}}]),t}(n.Component)),P=(a(71),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={currentUser:a.props.currentUser,pollItem:{}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;O(this.state.currentUser._id).then(function(t){console.log("Next Poll",t.data),e.setState({pollItem:t.data})})}},{key:"render",value:function(){var e=this.state.pollItem;return r.a.createElement("section",{className:"PollCarousel"},r.a.createElement(w,{currentUser:this.state.currentUser}),r.a.createElement(U.a,{id:"carousel",className:"carousel",swipeOptions:{continuous:!1}},r.a.createElement("div",null,r.a.createElement(k,{pollItem:e,currentUser:this.state.currentUser}))))}}]),t}(n.Component));a(72);var x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={pollArray:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.get("/api/polls").catch(N).then(function(t){console.log("Polls List",t.data),e.setState({pollArray:t.data})})}},{key:"render",value:function(){var e=this.state.pollArray;this.props.currentUser;return r.a.createElement("section",{className:"PopularPolls"},r.a.createElement("h2",null,"Popular Polls"),r.a.createElement("div",{className:"card-group"},e.map(function(e){return r.a.createElement("a",{href:(t=e,"/poll-details/".concat(t._id)),className:"card",key:e._id},r.a.createElement("div",{className:"card-header"},e.shortText),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"card-text"},e.longText)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"card-text"},"Nb Votants"),r.a.createElement("p",{className:"card-text"},"Nb Verified")),r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"card-text"},"Yes"),r.a.createElement("p",{className:"card-text"},"No"),r.a.createElement("p",{className:"card-text"},"Skip")))));var t})))}}]),t}(n.Component),I=(a(73),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={shortText:"",longText:"",image:"",isSubmitSuccessful:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"genericOnChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t,a=this;e.preventDefault(),console.log("about to postPoll()",e),(t=this.state,v.post("/api/polls",t).catch(N)).then(function(e){console.log("Add Poll",e.data),a.setState({isSubmitSuccessful:!0})})}},{key:"render",value:function(){var e=this;return this.state.isSubmitSuccessful?r.a.createElement(f.a,{to:"/browse-polls"}):r.a.createElement("section",{className:"AddPoll"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pollTitle"},"Title"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.shortText,name:"shortText",type:"text",className:"form-control",id:"pollTitle",placeholder:"Enter title."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pollDesc"},"Description"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.longText,name:"longText",type:"text",className:"form-control",id:"pollDesc",placeholder:"Enter description."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pollImage"},"Image URL"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.image,name:"image",type:"url",className:"form-control",id:"pollImage",placeholder:"Enter Image URL."})),r.a.createElement("button",{type:"submit",className:"btn btn-info"},"Submit This Poll")))}}]),t}(n.Component)),T=(a(74),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"NotFound"},r.a.createElement("h2",null,"404 Page Not Found"),r.a.createElement("p",null,"Sorry, the page you're looking for doesn't exist."))}}]),t}(n.Component)),F=(a(75),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.currentUser;return console.log("COUCOU",e),e?r.a.createElement("section",{className:"ProfilePage"},r.a.createElement("h2",null,e.username),r.a.createElement("img",{src:"https://pngimage.net/wp-content/uploads/2018/06/profile-logo-png-3.png",alt:e.username}),r.a.createElement("ul",null,e.tags.map(function(e){return r.a.createElement("li",null,e)}))):r.a.createElement(f.a,{to:"/"})}}]),t}(n.Component)),M=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(m.a)(this,Object(u.a)(t).call(this,e));var n=localStorage.getItem("currentUser");return n&&(n=JSON.parse(n)),a.state={currentUser:n},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"updateUser",value:function(e){e?localStorage.setItem("currentUser",JSON.stringify(e)):localStorage.removeItem("currentUser"),this.setState({currentUser:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(h.a,null,r.a.createElement(g.a,{exact:!0,path:"/",render:function(){return r.a.createElement(d,{currentUser:e.state.currentUser})}}),r.a.createElement(g.a,{path:"/user-profile",render:function(){return r.a.createElement(F,{currentUser:e.state.currentUser})}}),r.a.createElement(g.a,{path:"/signup-page",render:function(){return r.a.createElement(S,{currentUser:e.state.currentUser,signupSuccess:function(t){return e.updateUser(t)}})}}),r.a.createElement(g.a,{path:"/login-page",render:function(){return r.a.createElement(y,{currentUser:e.state.currentUser,loginSuccess:function(t){return e.updateUser(t)}})}}),r.a.createElement(g.a,{path:"/add-poll",component:I}),r.a.createElement(g.a,{path:"/poll-carousel",render:function(){return r.a.createElement(P,{currentUser:e.state.currentUser,logoutSuccess:function(t){return e.updateUser(t)}})}}),r.a.createElement(g.a,{path:"/poll-details/:pollId",component:k}),r.a.createElement(g.a,{path:"/popular-polls",render:function(){return r.a.createElement(x,{currentUser:e.state.currentUser,logoutSuccess:function(t){return e.updateUser(t)}})}}),r.a.createElement(g.a,{component:T})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(c.a,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.3d646911.chunk.js.map